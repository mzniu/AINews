# 系统架构设计

## 整体架构

```
┌─────────────────────────────────────────────────────────────┐
│                      AI资讯视频生成系统                        │
└─────────────────────────────────────────────────────────────┘
                              │
        ┌─────────────────────┼─────────────────────┐
        │                     │                     │
        ▼                     ▼                     ▼
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│  爬虫模块     │    │  内容处理模块 │    │  视频生成模块 │
│  (Crawler)   │───▶│  (Processor)  │───▶│  (Generator)  │
└──────────────┘    └──────────────┘    └──────────────┘
        │                     │                     │
        ▼                     ▼                     ▼
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│  资讯网站     │    │  DeepSeek    │    │  视频文件     │
│  (Sources)   │    │  API         │    │  (Output)     │
└──────────────┘    └──────────────┘    └──────────────┘
```

## 核心模块

### 1. 爬虫模块 (Crawler Module)
**职责**: 从多个来源抓取AI资讯
- 支持多个资讯网站（机器之心、量子位、AI科技评论等）
- 去重和数据清洗
- 结构化数据存储

**技术选型**:
- Python + Scrapy / BeautifulSoup
- Selenium（处理动态加载内容）
- Redis（去重和缓存）

### 2. 内容处理模块 (Processor Module)
**职责**: 内容分析和智能总结
- 调用DeepSeek API进行内容总结
- 提取关键信息和亮点
- 生成视频脚本

**技术选型**:
- DeepSeek API (深度求索)
- 提示词工程（Prompt Engineering）
- 内容分类和标签

### 3. 视频生成模块 (Generator Module)
**职责**: 自动化视频制作
- 文字转语音（TTS）
- 图文视频合成
- 字幕生成
- 视频后期处理

**技术选型**:
- MoviePy / FFmpeg（视频处理）
- Azure TTS / Edge TTS（语音合成）
- Pillow（图像处理）

## 数据流

```
原始网页 → HTML解析 → 结构化数据 → 
DeepSeek总结 → 视频脚本 → TTS音频 → 
图文素材 → 视频合成 → 最终视频
```

## 存储设计

### 数据库选型
- **SQLite** - 开发阶段，轻量级
- **PostgreSQL** - 生产环境，可扩展

### 数据表设计
1. `news_articles` - 原始资讯
2. `summaries` - AI总结内容
3. `videos` - 生成的视频记录
4. `sources` - 爬虫来源配置

## 部署架构

### 开发环境
- 本地开发 + Docker容器

### 生产环境
- 定时任务（Cron / APScheduler）
- 云服务器部署（阿里云/腾讯云）
- 对象存储（OSS）存放视频文件
